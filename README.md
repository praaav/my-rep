# üß† Shell Emulator ‚Äî Variant 17

–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —É—á–µ–±–Ω—ã–π —ç–º—É–ª—è—Ç–æ—Ä –∫–æ–º–∞–Ω–¥–Ω–æ–π –æ–±–æ–ª–æ—á–∫–∏ macOS/UNIX, –Ω–∞–ø–∏—Å–∞–Ω–Ω—ã–π –Ω–∞ Python.  
–ü—Ä–æ–µ–∫—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω –ø–æ –≤–∞—Ä–∏–∞–Ω—Ç—É **‚Ññ 17**.  
–ò–º–∏—Ç–∞—Ü–∏—è –ø–æ–≤–µ–¥–µ–Ω–∏—è –∫–æ–Ω—Å–æ–ª–∏ macOS —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–º –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ–º –≤–∏–¥–∞:
```
prav@MacBook-Pro-VFS ~ %
```

---

## üìç –≠—Ç–∞–ø 1 ‚Äî REPL

**–¶–µ–ª—å:** —Å–æ–∑–¥–∞—Ç—å –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –ø—Ä–æ—Ç–æ—Ç–∏–ø —ç–º—É–ª—è—Ç–æ—Ä–∞.

### –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ
- CLI-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å macOS-–ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ–º;
- –ü—Ä–æ—Å—Ç–æ–π –ø–∞—Ä—Å–µ—Ä –∫–æ–º–∞–Ω–¥ –∏ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤;
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∫–∞–≤—ã—á–µ–∫ `' '` –∏ `" "`;
- –ö–æ–º–∞–Ω–¥—ã-–∑–∞–≥–ª—É—à–∫–∏ `ls`, `cd`;
- –ö–æ–º–∞–Ω–¥–∞ `exit`;
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∏ –ø—É—Å—Ç—ã—Ö —Å—Ç—Ä–æ–∫.

---

## ‚öôÔ∏è –≠—Ç–∞–ø 2 ‚Äî –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

**–¶–µ–ª—å:** —Å–¥–µ–ª–∞—Ç—å —ç–º—É–ª—è—Ç–æ—Ä –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–º.

### –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ
- –ê—Ä–≥—É–º–µ–Ω—Ç—ã –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏:
  - `--vfs <–ø—É—Ç—å>` ‚Äî –ø—É—Ç—å –∫ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–π —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º–µ;
  - `--script <–ø—É—Ç—å>` ‚Äî –ø—É—Ç—å –∫ —Å—Ç–∞—Ä—Ç–æ–≤–æ–º—É —Å–∫—Ä–∏–ø—Ç—É.
- –°—Ç–∞—Ä—Ç–æ–≤—ã–π —Å–∫—Ä–∏–ø—Ç –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –ø–æ—Å—Ç—Ä–æ—á–Ω–æ (—ç–º—É–ª–∏—Ä—É–µ—Ç—Å—è –≤–≤–æ–¥);
- –û—à–∏–±–æ—á–Ω—ã–µ —Å—Ç—Ä–æ–∫–∏ –ø—Ä–æ–ø—É—Å–∫–∞—é—Ç—Å—è;
- –°–ª—É–∂–µ–±–Ω–∞—è –∫–æ–º–∞–Ω–¥–∞ `conf-dump` –≤—ã–≤–æ–¥–∏—Ç –≤—Å–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –≤ —Ñ–æ—Ä–º–∞—Ç–µ `–∫–ª—é—á=–∑–Ω–∞—á–µ–Ω–∏–µ`.

---

## üöÄ –ó–∞–ø—É—Å–∫

–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ:
```bash
python3 main.py
```

–° –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏:
```bash
python3 main.py --vfs /Users/prav/vfs --script scripts/demo.txt
```

---

## üìú –ü—Ä–∏–º–µ—Ä —Å—Ç–∞—Ä—Ç–æ–≤–æ–≥–æ —Å–∫—Ä–∏–ø—Ç–∞ (scripts/demo.txt)

```bash
# test script
conf-dump
ls "test folder"
cd src
foo
exit 0
```

---

## üíª –°–∫—Ä–∏–ø—Ç—ã –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

**macOS / Linux:**

### `run_with_vfs.sh`
```bash
#!/usr/bin/env bash
python3 main.py --vfs "/Users/prav/vfs"
```

### `run_with_script.sh`
```bash
#!/usr/bin/env bash
python3 main.py --script "scripts/demo.txt"
```

### `run_full.sh`
```bash
#!/usr/bin/env bash
python3 main.py --vfs "/tmp/vfs" --script "scripts/demo.txt"
```

**‚ö†Ô∏è –ï—Å–ª–∏ –ø–æ–ª—É—á–∞–µ—à—å ‚Äúpermission denied‚Äù:**
```bash
chmod +x run_with_vfs.sh run_with_script.sh run_full.sh
```

**Windows-–∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞:**
```bat
python main.py --vfs "C:\Users\prav\vfs" --script "scripts\demo.txt"
pause
```

---

## üß© –ö–æ–º–∞–Ω–¥—ã —ç–º—É–ª—è—Ç–æ—Ä–∞

| –ö–æ–º–∞–Ω–¥–∞ | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|-----------|
| `ls` | –ó–∞–≥–ª—É—à–∫–∞: –≤—ã–≤–æ–¥–∏—Ç —Å–ø–∏—Å–æ–∫ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ |
| `cd` | –ó–∞–≥–ª—É—à–∫–∞: –≤—ã–≤–æ–¥–∏—Ç —Å–ø–∏—Å–æ–∫ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ |
| `exit [–∫–æ–¥]` | –ó–∞–≤–µ—Ä—à–∞–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ |
| `conf-dump` | –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ç–µ–∫—É—â–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —ç–º—É–ª—è—Ç–æ—Ä–∞ |

---

## üß† –ü—Ä–∏–º–µ—Ä—ã —Ç–µ—Å—Ç–æ–≤ (–¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏)

### ‚úÖ –í–≤–æ–¥ –≤ –∫–æ–Ω—Å–æ–ª—å
```
prav@MacBook-Pro-VFS ~ % ls a b c
[stub] ls -> args: ['a', 'b', 'c']

prav@MacBook-Pro-VFS ~ % ls "my folder"
[stub] ls -> args: ['my folder']

prav@MacBook-Pro-VFS ~ % cd test
[stub] cd -> args: ['test']

prav@MacBook-Pro-VFS ~ % conf-dump
vfs_path=/Users/prav/vfs
startup_script=scripts/demo.txt
user=prav
host=MacBook-Pro-VFS
cwd=~

prav@MacBook-Pro-VFS ~ % exit 0
Bye!
```

### ‚úÖ –ü—Ä–∏–º–µ—Ä –æ—à–∏–±–æ—á–Ω–æ–π —Å—Ç—Ä–æ–∫–∏
```
prav@MacBook-Pro-VFS ~ % foo
command not found: foo
```

---

## üßæ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

```
my-rep/
‚îú‚îÄ‚îÄ main.py                # –æ—Å–Ω–æ–≤–Ω–æ–π –∫–æ–¥ —ç–º—É–ª—è—Ç–æ—Ä–∞
‚îú‚îÄ‚îÄ README.md              # –æ–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞ (—ç—Ç–æ—Ç —Ñ–∞–π–ª)
‚îú‚îÄ‚îÄ run_with_vfs.sh
‚îú‚îÄ‚îÄ run_with_script.sh
‚îú‚îÄ‚îÄ run_full.sh
‚îî‚îÄ‚îÄ scripts/
    ‚îî‚îÄ‚îÄ demo.txt           # —Å—Ç–∞—Ä—Ç–æ–≤—ã–π —Å–∫—Ä–∏–ø—Ç
```

---

## üßë‚Äçüíª –ê–≤—Ç–æ—Ä

**–ü–µ—Ç—Ä—É—Å–µ–Ω–∫–æ –õ–µ–≤ –ê–Ω–∞—Ç–æ–ª—å–µ–≤–∏—á (praaav)**  
–í–∞—Ä–∏–∞–Ω—Ç 17
